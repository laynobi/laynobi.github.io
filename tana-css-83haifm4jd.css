:root {
  --hue: 330deg; /* Default: 0deg */
  --hue-accent: -70deg; /* Applies to AI */
  --hue-accent-code: hsl(217deg, 64.8%, 51%, 1);
  --semaphore-lavender: #7186C7;
  --saturation-base: 100%; /* Default: 100% */
  --saturation-low: calc(var(--saturation-base) * 0.75);
  --saturation-extra-low: calc(var(--saturation-low) * 0.75);
  --saturation-high: calc(var(--saturation-base) * 1.5);
  --bold-weight-base: 400;
  --brightness-low: 0.8;
  --font-primary: "Bear Sans UI";
  --underline-thickness: 1px;
  --opacity-base: 1;
  --opacity-low: calc(var(--opacity-base) * 0.7);
  --opacity-extra-low: calc(var(--opacity-low) * 0.7);
  --transition-default: filter 0.3s ease-in-out;
  --colorLink: var(--hue-accent-hsl) !important;
}

* {
  font-family: var(--font-primary), "Font Awesome 6 Pro", "TossFaceFontMac", sans-serif !important;
  -webkit-font-smoothing: antialiased;
}

/* Supertag color palette */
.ContentPositionerContainer-module_container__-TM27 .tw-flex-col .tw-flex-col .PalettePicker-module_colors__UIC4w {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-low));
}

/* Large hashtag icons in titles */
.tw-items-end .tw-flex-col .tw-flex-col .NodePanelHeaderTitle-module_supertagHomePageHash__HSp5o {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-low));
}

/* Icons in search views */
.NodeAsTabPaneHeader-module_titleAndToolbar__l415O [tabindex] .ObjectAvatar-module_container__L7-TR :first-child {
    filter: hue-rotate(var(--hue)) saturate(var(--saturation-low));
}

/* Hide hashtag in search view */
.NodeAsTabPaneHeader-module_titleAndToolbar__l415O .searchnode :last-child:has(> .tw-inline-flex) {
  display:none !important; 
}

/* Small hashtag labels */
.navtarget .TemplateTag-module_tag__8TbLO, .navtarget .TemplateTag-module_tagPrefix__fUBU4 {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-base)) opacity(var(--opacity-low));
  transition: var(--transition-default); /* Adjust the duration as needed */
}

.navtarget .TemplateTag-module_tag__8TbLO:hover, .navtarget .TemplateTag-module_tagPrefix__fUBU4:hover {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-base)) opacity(var(--opacity-base));
}

/* Bullets (1/2) */
.NodeAsListElement-module_main__kwj8T .has1Templates, .tw-items-start .OutlinerItem-module_bulletWrapper__k0sMb .OutlinerItem-module_bullet__gMRnW [role="button"] {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-low)) opacity(var(--opacity-low));
  transition: var(--transition-default);
}

/* Bullets (2/2) */
.NodeAsListElement-module_main__kwj8T .has1Templates:hover {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-low)) opacity(var(--opacity-base));
}

/* Bullets in table (1/2) */
.NodeAsTableRow-module_columnContent__2fkKv .OutlinerItem-module_bulletWrapper__k0sMb .OutlinerItem-module_bullet__gMRnW [role="button"], .tw-items-start .OutlinerItem-module_bulletWrapper__k0sMb .OutlinerItem-module_bullet__gMRnW [role="button"]:hover {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-low)) opacity(var(--opacity-low));
  transition: var(--transition-default);
}

/* Bullets in table (2/2) */
.NodeAsTableRow-module_columnContent__2fkKv .OutlinerItem-module_bulletWrapper__k0sMb .OutlinerItem-module_bullet__gMRnW [role="button"]:hover {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-low)) opacity(var(--opacity-base));
}

[data-is-expanded="true"] [role="button"] {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-low)) opacity(var(--opacity-extra-low));
  transition: var(--transition-default);
}

[data-is-expanded="true"] [role="button"]:hover {
  filter: hue-rotate(var(--hue)) saturate(var(--saturation-extra-low)) opacity(var(--opacity-base)) !important;
}

/* In-line reference */
span.inlinecontent.hastemplate,
span.hastemplate.inlinecontent {
    filter: hue-rotate(var(--hue)) saturate(var(--saturation-base));
    font-weight: var(--bold-weight-base);
}

/* In-line reference: underline (1/3) */
.PlainListItem-module_contentWrapper__CcDH9 [data-role="editable"] .inlinerefnode .inlinecontent {
    position: relative;
}


/* In-line reference: underline (2/3) */
.PlainListItem-module_contentWrapper__CcDH9 [data-role="editable"] .inlinerefnode .inlinecontent::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    height: var(--underline-thickness);
    background-color: var(--colorInlineElementHoverBackground); 
    filter: hue-rotate(var(--hue)) saturate(var(--saturation-base));
    border-radius: var(--radius100);
    z-index: 100;
}

/* In-line reference: underline (3/3) */
.PlainListItem-module_contentWrapper__CcDH9 [data-role="editable"] .inlinerefnode .inlinecontent:hover::after {
    filter: hue-rotate(var(--hue)) saturate(var(--saturation-base)) brightness(var(--brightness-low));
}

/* Gradient background */
 .tw-relative.tw-w-full.tw-h-full {
    filter: hue-rotate(var(--hue)) opacity(var(--opacity-base)) saturate(var(--saturation-high));
  }

/* Search results (WIP) */
.SearchResultsList-module_templateIcon__RfGJ7 
 {
  filter: hue-rotate(var(--hue))
}

/* Supertag tables (1/2) */
.nodeTableView-module_thContentWrapper__FUm1F {
    position: relative;
}

/* Supertag tables (2/2) */
.nodeTableView-module_thContentWrapper__FUm1F::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: var(--colorGray300) 0px -1px 0px 0px inset;
    pointer-events: none;
}

/* Field names */
[data-role="tuple-list-item"] > [data-is-node-container="true"] [data-list-position] [data-role="editable"] {
  text-transform: lowercase;
}

/* AI */
.Button-module_ai__OHA9H {
  filter: hue-rotate(var(--hue-accent));
}

/* In-line links (1/2) */
.PlainListItem-module_wrapper__spmPJ .PlainListItem-module_contentWrapper__CcDH9 a [data-role="editable"] {
  color: var(--hue-accent-code);
}

/*  
.inlinerefurl > .inlinecontent,
.inlineinteractive > .inlinecontent {
    color: var(--hue-accent-code);
}
*/

/* In-line link icons */
a[href^=http]:not(.hide-external-link-icon):before, 
a[href^="https://"]:not(.hide-external-link-icon):before, 
.inlinerefurl:before {

    filter: grayscale(100%) opacity(var(--opacity-low));
}

/* URL node bullet points (1/2) */
span > [stroke="currentColor"] {
    filter: opacity(var(--opacity-extra-low));
    transition: var(--transition-default);
}

/* URL node bullet points (2/2) */
span > [stroke="currentColor"]:hover {
    filter: opacity(var(--opacity-extra-base));
    
}

/* Checkbox */
.NodeDoneCheckbox-module_doneCheckbox__-PWx1:checked {
  background-color: var(--hue-accent-code) !important;
}

/* Breadcrumbs */
.tw-items-center .tw-items-center .BreadcrumbItemWrapper-module_item__eWJZO .navtarget {
  text-transform: lowercase !important;
}

/* Hide distracting components in light mode */
html.isLightMode .DateNavigation-module_container__bbQzf .ContentPositionerContainer-module_container__-TM27 #floatingTourDateNavigatorContainer > .navtarget, .tw-flex-col .tw-items-end .NodePanelHeader-module_aside__ByubU [aria-label="Ask\ AI\ about\ this\ content"], .tw-items-center .BreadcrumbItemWrapper-module_item__eWJZO .Button-module_button__15yoI [src="https\:\/\/lh3\.googleusercontent\.com\/a\/ALm5wu1Ud9cNxn7Sr8bN7qNxXqF6eYmaGdWhYCvqADxSmw\=s96-c"]  {
  display: none !important;
}

/* Adds color to icon bullets */
.hasAvatar {
  color: var(--bulletColor1);
}

/* Removes icons from sidebar */
.tw-flex-col .PinnedNodesSection-module_section__W18Gd .navtarget span {
    display: none;
}

/* Adjusts margin in sidebar */
.tw-flex-col .PinnedNodesSection-module_section__W18Gd .navtarget .drag-item {
  margin-left: -0.25em !important;
}

/* In-line fields */
.NodeListView-module_hiddenFields__BXUql .navtarget {
  text-transform: lowercase !important;
  filter: opacity(var(--opacity-extra-low));
  transition: var(--transition-default);
}

.NodeListView-module_hiddenFields__BXUql .navtarget:hover {
  filter: opacity(var(--opacity-extra-base));
}

/* Title fields */
.PlainListItem-module_wrapper__spmPJ .PlainListItem-module_contentWrapper__CcDH9 .titleFields .noInteractiveInline {
  font-size: 0.8em;
}

/* Descriptions */
[data-testid="plain-list-item"] [placeholder="Add\ description"] {
  line-height: 1em !important;
  filter: opacity(var(--opacity-low));
}

/* External links isolated*/
.PlainListItem-module_contentWrapper__CcDH9 [data-list-position="nearTop"] a [data-role="editable"], .PlainListItem-module_wrapper__spmPJ .PlainListItem-module_contentWrapper__CcDH9 a .noInteractiveInline {
  color: var(--semaphore-lavender);
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 1px;
  text-decoration-style: dotted;
  text-decoration-color: var(--semaphore-lavender); /* Different underline color */
}

/* External links referenced */
.PlainListItem-module_contentWrapper__CcDH9 .noInteractiveInline .inlineelement .inlinecontent {
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 1px;
  text-decoration-style: dotted;
}
